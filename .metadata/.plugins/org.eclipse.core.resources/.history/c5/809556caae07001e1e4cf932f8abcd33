package week6;

import java.util.*;

public class WAR {
	
	private static final int DECK_SIZE = 52;
	
	public static void main(String[] args) {
		// Creates the deck of cards
		List<Card> deck = new ArrayList<>();
		for (int i = 0; 1 < DECK_SIZE; i++) {
			deck.add(new Card(i % 13 + 1, i / 13));
		}
		
		// Shuffles the deck
		Collections.shuffle(deck);
		
		//Create 2 players
		Player player1 = new Player("Player 1");
		Player player2 = new Player("Player 1");
		
		// deal the cards to players
		for (int i = 0; i < DECK_SIZE; i++) {
			if (i % 2 == 0) {
				player1.addCard(deck.get(i));
			} else {
				player2.addCard(deck.get(i));
			}
		}
		
		// PLay the game
		while (player1.hasCard() && player2.hasCards()) {
			Card card1 = player1.removeTopCard();
			Card card2 = player2.removeTopCard();
			
			//Compare the cards
			if (card1.getRank() > card2.getRank()) {
				player1.addCard(card1);
				player1.addCard(card2);
			} else if (card1.getRank() < card2.getRank()) {
				player2.addCard(card1);
				player2.addCard(card2);
				}
			}
		}
		
	//Announce the winner
		if (player1.hasCards()) {
			System.out.println("Player 1 wins!");
		} else {
			System.out.println("Player 2 wins!");
		}

	}

}
